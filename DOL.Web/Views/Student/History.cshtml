@{
    Layout = "~/Views/Shared/_Layout.cshtml";
    ViewBag.Title = "历史纪录";
}
<div class="am-cf am-padding">
    <div class="am-fl am-cf"><a href="#" onclick="BackUrl()"><strong class="am-text-primary am-text-lg">返回</strong></a> /<small>历史纪录</small></div>
</div>
<div class="admin-content-body">
    <form id="form" class="am-form  am-form-inline">
        <div class="am-tabs am-margin" data-am-tabs="">
            <ul class="am-tabs-nav am-nav am-nav-tabs" id="selectTabUl">
                <li class="am-active"><a href="#tab1">报名收费</a></li>
                <li><a href="#tab2">培训信息</a></li>
            </ul>
            <div class="am-tabs-bd" style="touch-action: pan-y; -webkit-user-select: none; -webkit-user-drag: none; -webkit-tap-highlight-color: rgba(0, 0, 0, 0);overflow-x:hidden">
                <div class="am-tab-panel am-fade am-in am-active" id="tab1">
                    <div class="am-g am-margin-top">
                        <div class="am-u-md-12 am-text-left">
                            <label for="user-name" class="am-form-label">身份信息：</label>
                        </div>
                    </div>
                    <div class="am-g am-margin-top">
                        <div class="am-u-md-2 am-text-right">
                            学员姓名<strong class="am-text-danger am-text-sm am-text-left">*</strong>：
                        </div>
                        <div class="am-u-md-2 am-text-left">
                            <input type="text" name="Name" class="am-input-sm" maxlength="32" style="width:160px;">
                        </div>
                        <div class="am-u-md-2 am-text-right">
                            户籍地<strong class="am-text-danger am-text-sm">*</strong>：
                        </div>
                        <div class="am-u-md-5 am-text-left am-u-end">
                            <input name="ProvinceName" id="ProvinceName" class="am-input-sm" readonly />省
                            <input name="ProvinceCode" id="ProvinceCode" type="hidden">
                            <input name="CityName" id="CityName" class="am-input-sm" readonly />市
                            <input name="CityCode" id="CityCode" type="hidden">
                        </div>
                    </div>
                    <div class="am-g am-margin-top">
                        <div class="am-u-md-2 am-text-right">
                            身份证号码<strong class="am-text-danger am-text-sm am-text-left">*</strong>：
                        </div>
                        <div class="am-u-md-4 am-text-left  am-u-end">
                            <input type="text" name="IDCard" class="am-input-sm" maxlength="20" onkeyup="isCardID(this, $('[name=\'GenderCode\']'))">
                        </div>
                    </div>
                    <div class="am-g am-margin-top">
                        <div class="am-u-md-2 am-text-right">
                            手机<strong class="am-text-danger am-text-sm am-text-left">*</strong>：
                        </div>
                        <div class="am-u-md-3 am-text-left">
                            <input type="text" name="Mobile" class="am-input-sm" maxlength="11" style="width:160px;">
                        </div>
                        <div class="am-u-md-1"></div>
                        <div class="am-u-md-1 am-text-right">
                            性别<strong class="am-text-danger am-text-sm am-text-left">*</strong>：
                        </div>
                        <div class="am-u-md-2 am-text-left  am-u-end">
                            <div class="am-u-md-1 am-text-left  am-u-end">
                                <select name="GenderCode" data-am-selected="{btnWidth: '120px',btnSize: 'sm'}" style="width:120px;" disabled>
                                    <option value="-1">未知</option>
                                    <option value="1">男</option>
                                    <option value="2">女</option>
                                </select>
                            </div>
                        </div>
                    </div>
                    <div class="am-g am-margin-top">
                        <div class="am-u-md-2 am-text-right">
                            身份证地址<strong class="am-text-danger am-text-sm am-text-left">*</strong>：
                        </div>
                        <div class="am-u-md-7 am-text-left  am-u-end">
                            <input type="text" name="Address" class="am-input-sm" maxlength="512">
                        </div>
                    </div>

                    <hr data-am-widget="divider" style="" class="am-divider am-divider-default" />


                    <div class="am-g am-margin-top">
                        <div class="am-u-md-12 am-text-left">
                            <label for="user-name" class="am-form-label">培训信息：</label>
                        </div>
                    </div>

                    <div class="am-g am-margin-top">
                        <div class="am-u-md-2 am-text-right">
                            报名地点<strong class="am-text-danger am-text-sm am-text-left">*</strong>：
                        </div>
                        <div class="am-u-md-5 am-text-left">
                            <select name="EnteredProvinceCode" data-am-selected="{ btnWidth: '120px',btnSize: 'sm'}" style="width:120px;"></select>省
                            <select name="EnteredCityCode" data-am-selected="{ btnWidth: '120px',btnSize: 'sm'}" style="width:120px;"></select>市
                            <select name="EnteredPointID" data-am-selected="{ btnWidth: '120px',btnSize: 'sm'}" style="width:120px;"></select>
                        </div>
                        <div class="am-u-md-2 am-text-right">
                            推荐人<strong class="am-text-danger am-text-sm">*</strong>：
                        </div>
                        <div class="am-u-md-2 am-u-end">
                            <select name="ReferenceID" data-am-selected="{ btnWidth: '120px',btnSize: 'sm'}" style="width:120px;"></select>
                        </div>
                    </div>

                    <div class="am-g am-margin-top">
                        <div class="am-u-md-2 am-text-right">
                            学习车型<strong class="am-text-danger am-text-sm">*</strong>：
                        </div>
                        <div class="am-u-md-2">
                            <select name="CertificateID" data-am-selected="{ btnWidth: '120px',btnSize: 'sm'}" style="width:120px;"></select>
                        </div>
                        <div class="am-u-md-2 am-text-right">
                            报名时间<strong class="am-text-danger am-text-sm">*</strong>：
                        </div>
                        <div class="am-u-md-1 am-u-end">
                            <input type="text" name="EnteredDate" class="am-input-sm" style="width:190px;" placeholder="请选择报名时间" readonly onfocus="WdatePicker({ dateFmt:'yyyy-MM-dd HH:mm:ss', autoPickDate:true, maxDate: '%y-%M-%d 00:00:00' })" datatype="jsondate" />
                        </div>
                    </div>

                    <div class="am-g am-margin-top">
                        <div class="am-u-md-2 am-text-right">
                            意向驾校：
                        </div>
                        <div class="am-u-md-2 am-text-left">
                            <select name="WantDriverShopID" data-am-selected="{ btnWidth: '120px',btnSize: 'sm'}" style="width:120px;">
                                <option value="-1">请选择</option>
                            </select>
                        </div>
                        <div class="am-u-md-2 am-text-right">
                            制卡驾校：
                        </div>
                        <div class="am-u-md-1 am-u-end">
                            <select name="MakeDriverShopID" data-am-selected="{ btnWidth: '120px',btnSize: 'sm'}" style="width:120px;">
                                <option value="-1">请选择</option>
                            </select>
                        </div>

                    </div>
                    <div class="am-g am-margin-top">
                        <div class="am-u-md-2 am-text-right">
                            制卡备注：
                        </div>
                        <div class="am-u-md-7 am-text-left  am-u-end">
                            <input type="text" name="MakeCardRemark" class="am-input-sm" maxlength="128">
                        </div>
                    </div>

                    <hr data-am-widget="divider" style="" class="am-divider am-divider-default" />
                    <div class="am-g am-margin-top">
                        <div class="am-u-md-12 am-text-left">
                            <label for="user-name" class="am-form-label">费用情况：</label>
                        </div>
                    </div>

                    <div class="am-g am-margin-top">
                        <div class="am-u-md-2 am-text-right">
                            学费总价<strong class="am-text-danger am-text-sm am-text-left">*</strong>：
                        </div>
                        <div class="am-u-md-2 am-text-left  am-u-end">
                            <input type="text" name="Money" class="am-input-sm" maxlength="10">
                        </div>
                        <div class="am-u-md-2 am-text-right">
                            培训班别<strong class="am-text-danger am-text-sm">*</strong>：
                        </div>
                        <div class="am-u-md-3 am-u-end">
                            <select name="TrianID" data-am-selected="{ btnWidth: '120px',btnSize: 'sm'}" style="width:120px;"></select>
                        </div>
                    </div>

                    <div class="am-g am-margin-top">
                        <div class="am-u-md-2 am-text-right">
                            缴费方式<strong class="am-text-danger am-text-sm">*</strong>：
                        </div>
                        <div class="am-u-md-2 am-u-end">
                            <select name="PayMethodID" data-am-selected="{ btnWidth: '120px',btnSize: 'sm'}" style="width:120px;">
                                <option value="-1">请选择</option>
                            </select>
                        </div>
                    </div>
                </div>

                <div class="am-tab-panel am-fade" id="tab2">
                    <div class="am-g am-margin-top">
                        <div class="am-u-md-12 am-text-left">
                            <label for="user-name" class="am-form-label">学员所在驾校：</label>
                        </div>
                    </div>

                    <div class="am-g am-margin-top">
                        <div class="am-u-md-2 am-text-right">
                            分配驾校<strong class="am-text-danger am-text-sm am-text-left">*</strong>：
                        </div>
                        <div class="am-u-md-1">
                            <select name="DriverShopID" data-am-selected="{ btnWidth: '120px',btnSize: 'sm'}" style="width:120px;"></select>
                        </div>

                        <div class="am-u-md-2 am-text-right">
                            制卡时间：
                        </div>
                        <div class="am-u-md-1 am-u-end">
                            <input type="text" name="MakeCardDate" class="am-input-sm" style="width:120px;" placeholder="请选择时间" readonly onfocus="WdatePicker({ dateFmt:'yyyy-MM-dd HH:mm:ss', autoPickDate:true, maxDate: '%y-%M-%d 00:00:00' })" datatype="jsondate" />
                        </div>
                    </div>


                    <hr data-am-widget="divider" style="" class="am-divider am-divider-default" />

                    <div class="am-g am-margin-top">
                        <div class="am-u-md-12 am-text-left">
                            <label for="user-name" class="am-form-label">科目一：</label>
                        </div>
                    </div>

                    <div class="am-g am-margin-top">
                        <div class="am-u-md-2 am-text-right">
                            科目一时间：
                        </div>
                        <div class="am-u-md-1 am-text-left">
                            <input type="text" name="ThemeOneDate" class="am-input-sm" style="width:130px;" placeholder="请选择时间" readonly />
                        </div>
                        <div class="am-u-md-2 am-text-right">
                            是否通过：
                        </div>
                        <div class="am-u-md-1  am-u-end">
                            <input type="text" readonly class="am-input-sm" name="ThemeOnePassStr" style="width:120px;" />
                            <input type="hidden" name="ThemeOnePass" />
                        </div>
                    </div>

                    <hr data-am-widget="divider" style="" class="am-divider am-divider-default" />

                    <div class="am-g am-margin-top">
                        <div class="am-u-md-12 am-text-left">
                            <label for="user-name" class="am-form-label">科目二：</label>
                        </div>
                    </div>

                    <div class="am-g am-margin-top">
                        <div class="am-u-md-2 am-text-right">
                            科二教练：
                        </div>
                        <div class="am-u-md-1">
                            <select name="ThemeTwoCoachID" data-am-selected="{ btnWidth: '120px',btnSize: 'sm'}" style="width:120px;">
                                <option value="-1">请选择</option>
                            </select>
                        </div>
                        <div class="am-u-md-2 am-text-right">
                            科目二时间：
                        </div>
                        <div class="am-u-md-1 am-text-left am-u-end">
                            <input type="text" name="ThemeTwoDate" class="am-input-sm" style="width:120px;" readonly />
                        </div>
                    </div>

                    <div class="am-g am-margin-top">
                        <div class="am-u-md-2 am-text-right">
                            是否通过：
                        </div>
                        <div class="am-u-md-1">
                            <input type="text" readonly name="ThemeTwoPassStr" class="am-input-sm" style="width:120px;" />
                            <input type="hidden" name="ThemeTwoPass" />
                        </div>
                        <div class="am-u-md-2 am-text-right">
                            学时是否完成：
                        </div>
                        <div class="am-u-md-1  am-u-end">
                            <input type="text" readonly name="ThemeTwoTimeCodeStr" class="am-input-sm" style="width:120px;" />
                            <input type="hidden" name="ThemeTwoTimeCode" />
                        </div>
                    </div>


                    <hr data-am-widget="divider" style="" class="am-divider am-divider-default" />

                    <div class="am-g am-margin-top">
                        <div class="am-u-md-12 am-text-left">
                            <label for="user-name" class="am-form-label">科目三：</label>
                        </div>
                    </div>

                    <div class="am-g am-margin-top">
                        <div class="am-u-md-2 am-text-right">
                            科三教练：
                        </div>
                        <div class="am-u-md-1">
                            <select name="ThemeThreeCoachID" data-am-selected="{ btnWidth: '120px',btnSize: 'sm'}" style="width:120px;">
                                <option value="-1">请选择</option>
                            </select>
                        </div>
                        <div class="am-u-md-2 am-text-right">
                            科目三时间：
                        </div>
                        <div class="am-u-md-1 am-text-left am-u-end">
                            <input type="text" name="ThemeThreeDate" class="am-input-sm" style="width:120px;" readonly />
                        </div>

                    </div>

                    <div class="am-g am-margin-top">
                        <div class="am-u-md-2 am-text-right">
                            是否通过：
                        </div>
                        <div class="am-u-md-1">
                            <input type="text" readonly name="ThemeThreePassStr" class="am-input-sm" style="width:120px;" />
                            <input type="hidden" name="ThemeThreePass" />
                        </div>
                        <div class="am-u-md-1"></div>
                        <div class="am-u-md-2 am-text-right">
                            学时是否完成：
                        </div>
                        <div class="am-u-md-1  am-u-end">
                            <input type="text" readonly name="ThemeThreeTimeCodeStr" class="am-input-sm" style="width:120px;" />
                            <input type="hidden" name="ThemeThreeTimeCode" />
                        </div>
                    </div>

                    <hr data-am-widget="divider" style="" class="am-divider am-divider-default" />
                    <div class="am-g am-margin-top">
                        <div class="am-u-md-12 am-text-left">
                            <label for="user-name" class="am-form-label">科目四：</label>
                        </div>
                    </div>

                    <div class="am-g am-margin-top">
                        <div class="am-u-md-2 am-text-right">
                            科目四时间：
                        </div>
                        <div class="am-u-md-1 am-text-left">
                            <input type="text" name="ThemeFourDate" class="am-input-sm" style="width:120px;" readonly />
                        </div>
                        <div class="am-u-md-2 am-text-right">
                            是否通过：
                        </div>
                        <div class="am-u-md-1  am-u-end">
                            <input type="text" readonly name="ThemeFourPassStr" class="am-input-sm" style="width:120px;" />
                            <input type="hidden" name="ThemeFourPass" />
                        </div>
                    </div>




                </div>
            </div>
        </div>
    </form>
</div>
<script>

    function init() {
        var str = '@(Html.Raw(ViewBag.Data))';
        var model = JSON.parse(str);
        //载入数据
        $.Nuoya.form("form").dataLoad({
            data: model
        });

        LoadProvince(false, model);
        LoadItemList(false, model);

        //是否科目一通过
        LoadYesOrNoSelectItem($("#form select[name='ThemeOnePass']"), model.ThemeOnePass);
        //是否科目二通过
        LoadYesOrNoSelectItem($("#form select[name='ThemeTwoPass']"), model.ThemeTwoPass);
        //是否科目三通过
        LoadYesOrNoSelectItem($("#form select[name='ThemeThreePass']"), model.ThemeThreePass);
        //是否科目四通过
        LoadYesOrNoSelectItem($("#form select[name='ThemeFourPass']"), model.ThemeFourPass);

        //科目二学时是否完成
        LoadYesOrNoSelectItem($("#form select[name='ThemeTwoTimeCode']"), model.ThemeTwoTimeCode);
        //科目三学时是否完成
        LoadYesOrNoSelectItem($("#form select[name='ThemeThreeTimeCode']"), model.ThemeThreeTimeCode);

        if (model.ThemeOneDate != null) {
            $("#form [name='ThemeOneDate']").val(RenderDate(model.ThemeOneDate));
        }
        if (model.ThemeTwoDate != null) {
            $("#form [name='ThemeTwoDate']").val(RenderDate(model.ThemeTwoDate));
        }
        if (model.ThemeThreeDate != null) {
            $("#form [name='ThemeThreeDate']").val(RenderDate(model.ThemeThreeDate));
        }
        if (model.ThemeFourDate != null) {
            $("#form [name='ThemeFourDate']").val(RenderDate(model.ThemeFourDate));
        }

        $("#form [name='ThemeOnePassStr']").val(model.ThemeOnePass == 1 ? "通过" : "未通过");
        $("#form [name='ThemeTwoPassStr']").val(model.ThemeTwoPass == 1 ? "通过" : "未通过");
        $("#form [name='ThemeThreePassStr']").val(model.ThemeThreePass == 1 ? "通过" : "未通过");
        $("#form [name='ThemeFourPassStr']").val(model.ThemeFourPass == 1 ? "通过" : "未通过");

        $("#form [name='ThemeTwoTimeCodeStr']").val(model.ThemeTwoTimeCode == 1 ? "完成" : "未完成");
        $("#form [name='ThemeThreeTimeCodeStr']").val(model.ThemeThreeTimeCode == 1 ? "完成" : "未完成");

        $("#form select[name='ProvinceCode']").change(function () {
            ShowCity(false, 1);
        });

        $("#form select[name='EnteredProvinceCode']").change(function () {
            ShowCity(false, 2);
        });
        $("#form select[name='EnteredCityCode']").change(function () {
            LoadEnteredPoint(false, this);
        });
        $("#form select[name='EnteredPointID']").change(function () {
            LoadReference(false, this);
        });
        //$('[name=\'Sex\']').val(model.GenderCode == 1 ? "男" : "女")
        isCardID($("#form [name='IDCard']"), $("#form [name='GenderCode']"));
        $("#form input").attr("readonly", true);
    }
    init();

</script>
